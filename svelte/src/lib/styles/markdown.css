@layer components {
  .markdown {
    @apply mx-auto w-full select-text;
    > *:first-child {
      @apply mt-0;
    }

    h1,
    h2,
    h3 {
      @apply font-semibold tracking-tight;
    }

    h1 {
      @apply mt-8 mb-4 text-4xl font-semibold text-stone-900 dark:text-stone-50;
      @apply border-l-4 border-stone-300 pl-4 dark:border-stone-600;
    }

    h2 {
      @apply mt-6 mb-3 text-2xl font-medium text-stone-800 dark:text-stone-100;
      @apply bg-stone-100 px-3 py-1 dark:bg-stone-800;
    }

    h3 {
      @apply mt-4 mb-2 text-lg font-medium text-stone-700 dark:text-stone-200;
      @apply text-stone-600 dark:text-stone-300;
    }

    p {
      @apply mb-4 text-[17px] leading-relaxed text-stone-800 dark:text-stone-300;
    }

    ul,
    ol {
      @apply my-2 ml-5 list-disc space-y-1.5;
    }

    li {
      @apply text-stone-700 dark:text-stone-300;
      list-style-type: none;
      position: relative;
      padding-left: 1.5rem;
    }

    li::before {
      content: "•";
      @apply absolute left-0 font-bold text-stone-400 dark:text-stone-500;
    }

    a {
      @apply text-stone-900 underline-offset-2 duration-200 hover:underline dark:text-stone-100;
      @apply rounded-full px-1 py-0.5 hover:bg-stone-200 dark:hover:bg-stone-700;
    }

    blockquote {
      @apply my-4 border-l-4 px-4 py-2 text-stone-700 italic dark:text-stone-300;
      @apply border-stone-300 bg-stone-50 dark:border-stone-700 dark:bg-stone-800;
      position: relative;
      padding-left: 3rem;
    }

    blockquote::before {
      content: "";
      @apply absolute top-2 left-4 font-serif text-3xl text-stone-400 dark:text-stone-500;
    }

    pre {
      @apply my-6 overflow-x-auto bg-stone-900 p-4 text-sm text-stone-100 dark:bg-stone-950 dark:text-stone-50;
      @apply border-t-2 border-stone-700;
    }

    code {
      @apply px-1.5 py-0.5 font-mono text-sm;
      @apply border border-stone-200 bg-stone-100 text-stone-800 dark:border-stone-700 dark:bg-stone-800 dark:text-stone-200;
    }

    hr {
      @apply my-8 border-t-2 border-stone-300 dark:border-stone-700;
      background: none;
      height: 0;
    }

    table {
      @apply my-6 w-full border-collapse overflow-hidden border border-stone-300 dark:border-stone-700;
    }

    th {
      @apply border-b px-3 py-2 text-left text-sm font-medium;
      @apply border-stone-300 bg-stone-100 text-stone-700 dark:border-stone-700 dark:bg-stone-800 dark:text-stone-200;
    }

    td {
      @apply border-b px-3 py-2 text-sm text-stone-700 dark:text-stone-300;
      @apply border-stone-200 dark:border-stone-700;
    }

    tr:nth-child(even) td {
      @apply bg-stone-50 dark:bg-stone-900;
    }

    tr:hover td {
      @apply bg-stone-100 duration-200 dark:bg-stone-800;
    }

    img {
      @apply my-6 h-auto max-w-full;
      @apply duration-200 hover:ring-2 hover:ring-stone-300 dark:hover:ring-stone-600;
    }

    input[type="checkbox"] {
      @apply mr-2 h-4 w-4 border border-stone-400 dark:border-stone-600;
    }

    a:focus,
    input:focus,
    button:focus {
      @apply ring-2 ring-stone-400 ring-offset-2 outline-none dark:ring-stone-500 dark:ring-offset-stone-800;
    }

    .info-callout {
      @apply my-4 border px-4 py-3;
      @apply border-stone-300 bg-stone-100 dark:border-stone-700 dark:bg-stone-800;
    }

    .info-callout::before {
      content: "ℹ️";
      @apply mr-2 text-stone-500 dark:text-stone-400;
    }

    .warning-callout {
      @apply my-4 border px-4 py-3;
      @apply border-amber-300 bg-amber-50 dark:border-amber-600 dark:bg-amber-900/30;
    }

    .warning-callout::before {
      content: "⚠️";
      @apply mr-2 text-amber-600 dark:text-amber-400;
    }

    * {
      @apply duration-200;
    }
  }
}
