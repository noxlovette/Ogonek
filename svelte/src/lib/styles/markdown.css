@layer components {
  .markdown {
    @apply max-w-prose;

    > *:first-child {
      @apply mt-0;
    }
    /* Headings with better visual hierarchy and consistent spacing */
    h1,
    h2,
    h3 {
      @apply font-semibold tracking-tight;
    }

    h1 {
      @apply text-milk-900 dark:text-milk-50 mt-8 mb-4 text-4xl font-bold;
    }

    h2 {
      @apply text-milk-800 dark:text-milk-100 mt-6 mb-3 text-2xl font-semibold;
    }

    h3 {
      @apply text-milk-700 dark:text-milk-200 mt-4 mb-2 text-xl font-medium;
    }

    /* Improved paragraph spacing and readability */
    p {
      @apply text-milk-700 dark:text-milk-300 mb-4 leading-relaxed;
    }

    /* Enhanced lists with better spacing and bullets */
    ul,
    ol {
      @apply my-2 ml-6 list-decimal space-y-2;
    }

    li {
      @apply text-milk-700 dark:text-milk-300 list-disc;
    }

    /* Modern link styling with hover effects */
    a {
      @apply text-cacao-600 dark:text-cacao-400 hover:text-cacao-700 dark:hover:text-cacao-300 hover:decoration-cacao-700 dark:hover:decoration-cacao-300 underline decoration-2 underline-offset-2 transition-colors duration-200;
    }

    /* Prettier blockquotes */
    blockquote {
      @apply border-cacao-400 dark:border-cacao-600 bg-milk-50 dark:bg-milk-800/50 text-milk-700 dark:text-milk-300 my-4 rounded-r-lg border-l-4 py-2 pl-4 italic;
    }

    /* Code blocks with better contrast and syntax highlighting support */
    pre {
      @apply bg-milk-900 dark:bg-milk-950 text-milk-100 dark:text-milk-50 my-6 overflow-x-auto rounded-lg p-4;
    }

    code {
      @apply bg-milk-100 dark:bg-milk-800 text-milk-900 dark:text-milk-50 rounded px-1.5 py-0.5 font-mono text-sm;
    }

    /* Thematic break with style */
    hr {
      @apply border-milk-200 dark:border-milk-700 my-8 w-full border-t-2;
    }

    /* Modern table design */
    table {
      @apply my-6 w-full border-collapse;
    }

    th {
      @apply bg-milk-100 dark:bg-milk-800 text-milk-900 dark:text-milk-50 border-milk-300 dark:border-milk-600 border-b-2 px-4 py-2 text-left font-medium;
    }

    td {
      @apply border-milk-200 dark:border-milk-700 text-milk-700 dark:text-milk-300 border-b px-4 py-2;
    }

    /* Additional useful elements */
    img {
      @apply my-6 h-auto max-w-full rounded-lg;
    }

    /* Task lists for GitHub-style markdown */
    input[type="checkbox"] {
      @apply accent-cacao-500 dark:accent-cacao-400 mr-2;
    }

    /* Smooth transitions for dark mode */
    * {
      @apply transition-colors duration-200;
    }
  }
}
