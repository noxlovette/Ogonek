@layer components {
  .markdown {
    @apply max-w-prose;

    > *:first-child {
      @apply mt-0;
    }
    /* Headings with better visual hierarchy and consistent spacing */
    h1,
    h2,
    h3 {
      @apply font-semibold tracking-tight;
    }

    h1 {
      @apply mt-8 mb-4 text-4xl font-bold text-stone-900 dark:text-stone-50;
    }

    h2 {
      @apply mt-6 mb-3 text-2xl font-semibold text-stone-800 dark:text-stone-100;
    }

    h3 {
      @apply mt-4 mb-2 text-xl font-medium text-stone-700 dark:text-stone-200;
    }

    /* Improved paragraph spacing and readability */
    p {
      @apply mb-4 leading-relaxed text-stone-700 dark:text-stone-300;
    }

    /* Enhanced lists with better spacing and bullets */
    ul,
    ol {
      @apply my-2 ml-6 list-decimal space-y-2;
    }

    li {
      @apply list-disc text-stone-700 dark:text-stone-300;
    }

    /* Modern link styling with hover effects */
    a {
      @apply text-cacao-600 dark:text-cacao-400 hover:text-cacao-700 dark:hover:text-cacao-300 hover:decoration-cacao-700 dark:hover:decoration-cacao-300 underline decoration-2 underline-offset-2 transition-colors duration-200;
    }

    /* Prettier blockquotes */
    blockquote {
      @apply border-cacao-400 dark:border-cacao-600 my-4 rounded-r-lg border-l-4 bg-stone-50 py-2 pl-4 text-stone-700 italic dark:bg-stone-800/50 dark:text-stone-300;
    }

    /* Code blocks with better contrast and syntax highlighting support */
    pre {
      @apply my-6 overflow-x-auto rounded-lg bg-stone-900 p-4 text-stone-100 dark:bg-stone-950 dark:text-stone-50;
    }

    code {
      @apply rounded bg-stone-100 px-1.5 py-0.5 font-mono text-sm text-stone-900 dark:bg-stone-800 dark:text-stone-50;
    }

    /* Thematic break with style */
    hr {
      @apply my-8 w-full border-t-2 border-stone-200 dark:border-stone-700;
    }

    /* Modern table design */
    table {
      @apply my-6 w-full border-collapse;
    }

    th {
      @apply border-b-2 border-stone-300 bg-stone-100 px-4 py-2 text-left font-medium text-stone-900 dark:border-stone-600 dark:bg-stone-800 dark:text-stone-50;
    }

    td {
      @apply border-b border-stone-200 px-4 py-2 text-stone-700 dark:border-stone-700 dark:text-stone-300;
    }

    /* Additional useful elements */
    img {
      @apply my-6 h-auto max-w-full rounded-lg;
    }

    /* Task lists for GitHub-style markdown */
    input[type="checkbox"] {
      @apply accent-cacao-500 dark:accent-cacao-400 mr-2;
    }

    /* Smooth transitions for dark mode */
    * {
      @apply transition-colors duration-200;
    }
  }
}
