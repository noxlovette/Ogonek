@import "tailwindcss";

@custom-variant dark (&:where(.dark, .dark *));

@layer base {
  button {
    cursor: pointer;
  }
}

@theme {
  --font-sans:
    "Montserrat", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  --font-serif: "Lora", system-ui, -apple-system;

  --color-cacao-50: oklch(0.98 0.002 35);
  --color-cacao-100: oklch(0.94 0.015 35);
  --color-cacao-200: oklch(0.89 0.035 35);
  --color-cacao-300: oklch(0.82 0.065 35);
  --color-cacao-400: oklch(0.75 0.085 35);
  --color-cacao-500: oklch(0.67 0.098 35);
  --color-cacao-600: oklch(0.58 0.105 35);
  --color-cacao-700: oklch(0.48 0.093 35);
  --color-cacao-800: oklch(0.36 0.075 35);
  --color-cacao-900: oklch(0.25 0.065 35);
  --color-cacao-950: oklch(0.18 0.045 35);

  --color-milk-50: oklch(0.98 0.004 41.785);
  --color-milk-100: oklch(0.911 0.015 41.669);
  --color-milk-200: oklch(0.837 0.019 41.454);
  --color-milk-300: oklch(0.787 0.016 41.239);
  --color-milk-400: oklch(0.697 0.014 41.023);
  --color-milk-500: oklch(0.607 0.012 40.808);
  --color-milk-600: oklch(0.517 0.012 40.592);
  --color-milk-700: oklch(0.427 0.011 40.377);
  --color-milk-800: oklch(0.337 0.01 40.162);
  --color-milk-900: oklch(0.247 0.01 39.946);
  --color-milk-950: oklch(0.157 0.009 39.731);
}

@layer components {
  .markdown {
    @apply max-w-prose;

    > *:first-child {
      @apply mt-0;
    }
    /* Headings with better visual hierarchy and consistent spacing */
    h1,
    h2,
    h3 {
      @apply font-semibold tracking-tight;
    }

    h1 {
      @apply text-milk-900 dark:text-milk-50 mt-8 mb-4 text-4xl font-bold;
    }

    h2 {
      @apply text-milk-800 dark:text-milk-100 mt-6 mb-3 text-2xl font-semibold;
    }

    h3 {
      @apply text-milk-700 dark:text-milk-200 mt-4 mb-2 text-xl font-medium;
    }

    /* Improved paragraph spacing and readability */
    p {
      @apply text-milk-700 dark:text-milk-300 mb-4 leading-relaxed;
    }

    /* Enhanced lists with better spacing and bullets */
    ul,
    ol {
      @apply my-2 ml-6 list-decimal space-y-2;
    }

    li {
      @apply text-milk-700 dark:text-milk-300 list-disc;
    }

    /* Modern link styling with hover effects */
    a {
      @apply text-cacao-600 dark:text-cacao-400 hover:text-cacao-700 dark:hover:text-cacao-300 hover:decoration-cacao-700 dark:hover:decoration-cacao-300 underline decoration-2 underline-offset-2 transition-colors duration-200;
    }

    /* Prettier blockquotes */
    blockquote {
      @apply border-cacao-400 dark:border-cacao-600 bg-milk-50 dark:bg-milk-800/50 text-milk-700 dark:text-milk-300 my-4 rounded-r-lg border-l-4 py-2 pl-4 italic;
    }

    /* Code blocks with better contrast and syntax highlighting support */
    pre {
      @apply bg-milk-900 dark:bg-milk-950 text-milk-100 dark:text-milk-50 my-6 overflow-x-auto rounded-lg p-4;
    }

    code {
      @apply bg-milk-100 dark:bg-milk-800 text-milk-900 dark:text-milk-50 rounded px-1.5 py-0.5 font-mono text-sm;
    }

    /* Thematic break with style */
    hr {
      @apply border-milk-200 dark:border-milk-700 my-8 w-full border-t-2;
    }

    /* Modern table design */
    table {
      @apply my-6 w-full border-collapse;
    }

    th {
      @apply bg-milk-100 dark:bg-milk-800 text-milk-900 dark:text-milk-50 border-milk-300 dark:border-milk-600 border-b-2 px-4 py-2 text-left font-medium;
    }

    td {
      @apply border-milk-200 dark:border-milk-700 text-milk-700 dark:text-milk-300 border-b px-4 py-2;
    }

    /* Additional useful elements */
    img {
      @apply my-6 h-auto max-w-full rounded-lg;
    }

    /* Task lists for GitHub-style markdown */
    input[type="checkbox"] {
      @apply accent-cacao-500 dark:accent-cacao-400 mr-2;
    }

    /* Smooth transitions for dark mode */
    * {
      @apply transition-colors duration-200;
    }
  }
}

@layer components {
  .overdue {
    @apply font-medium text-red-600;
  }

  .chosen {
    @apply bg-cacao-600 text-milk-50 hover:bg-cacao-600;
  }
}
